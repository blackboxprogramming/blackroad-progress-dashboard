<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BlackRoad - 3D Infrastructure Map</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: #000000;
            color: #FFFFFF;
            overflow: hidden;
        }

        #canvas3d {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 10;
        }

        .title {
            position: absolute;
            top: 40px;
            left: 50%;
            transform: translateX(-50%);
            text-align: center;
        }

        h1 {
            font-size: 4em;
            font-weight: 900;
            background: linear-gradient(135deg, #F5A623, #FF1D6C, #2979FF, #9C27B0);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }

        .subtitle {
            font-size: 1.5em;
            color: #F5A623;
            font-weight: 700;
        }

        .controls {
            position: absolute;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            justify-content: center;
            pointer-events: all;
        }

        .control-btn {
            background: linear-gradient(135deg, #F5A623, #FF1D6C);
            color: #000000;
            padding: 15px 30px;
            border-radius: 10px;
            border: none;
            font-weight: 700;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .control-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 10px 30px rgba(245, 166, 35, 0.6);
        }

        .info-panel {
            position: absolute;
            top: 140px;
            right: 40px;
            background: rgba(0, 0, 0, 0.8);
            border: 2px solid #F5A623;
            border-radius: 15px;
            padding: 30px;
            max-width: 400px;
            pointer-events: all;
        }

        .info-panel h3 {
            color: #F5A623;
            font-size: 1.8em;
            margin-bottom: 20px;
        }

        .stat-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 15px 0;
            padding: 10px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .stat-label {
            color: #e0e0e0;
            font-size: 1.1em;
        }

        .stat-value {
            color: #FF1D6C;
            font-weight: 700;
            font-size: 1.3em;
        }

        .legend {
            position: absolute;
            top: 140px;
            left: 40px;
            background: rgba(0, 0, 0, 0.8);
            border: 2px solid #2979FF;
            border-radius: 15px;
            padding: 30px;
            pointer-events: all;
        }

        .legend h3 {
            color: #2979FF;
            font-size: 1.8em;
            margin-bottom: 20px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            margin: 15px 0;
        }

        .legend-color {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            margin-right: 15px;
        }

        .legend-text {
            color: #e0e0e0;
            font-size: 1.1em;
        }

        .tooltip {
            position: absolute;
            background: rgba(0, 0, 0, 0.9);
            border: 2px solid #F5A623;
            border-radius: 10px;
            padding: 15px 20px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 100;
        }

        .tooltip.visible {
            opacity: 1;
        }

        .tooltip-title {
            color: #F5A623;
            font-weight: 700;
            font-size: 1.2em;
            margin-bottom: 5px;
        }

        .tooltip-desc {
            color: #e0e0e0;
            font-size: 0.9em;
        }

        .back-link {
            position: absolute;
            top: 40px;
            left: 40px;
            background: linear-gradient(135deg, #2979FF, #9C27B0);
            color: #FFFFFF;
            padding: 15px 30px;
            border-radius: 10px;
            text-decoration: none;
            font-weight: 700;
            font-size: 1.1em;
            transition: all 0.3s ease;
            pointer-events: all;
        }

        .back-link:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 30px rgba(41, 121, 255, 0.5);
        }

        @media (max-width: 768px) {
            h1 { font-size: 2.5em; }
            .info-panel, .legend {
                position: relative;
                top: auto;
                left: auto;
                right: auto;
                margin: 20px;
                max-width: 90%;
            }
        }
    </style>
</head>
<body>
    <canvas id="canvas3d"></canvas>

    <div class="overlay">
        <a href="index.html" class="back-link">‚Üê Dashboard</a>

        <div class="title">
            <h1>üåê 3D INFRASTRUCTURE MAP</h1>
            <div class="subtitle">BlackRoad Digital Empire - Live Visualization</div>
        </div>

        <div class="legend">
            <h3>Node Types</h3>
            <div class="legend-item">
                <div class="legend-color" style="background: #F5A623;"></div>
                <div class="legend-text">GitHub Orgs</div>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #FF1D6C;"></div>
                <div class="legend-text">Cloudflare Zones</div>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #2979FF;"></div>
                <div class="legend-text">Servers</div>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #9C27B0;"></div>
                <div class="legend-text">Devices</div>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #00FF00;"></div>
                <div class="legend-text">Services</div>
            </div>
        </div>

        <div class="info-panel">
            <h3>Live Statistics</h3>
            <div class="stat-item">
                <span class="stat-label">Total Nodes:</span>
                <span class="stat-value" id="node-count">0</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">Connections:</span>
                <span class="stat-value" id="connection-count">0</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">Organizations:</span>
                <span class="stat-value">15</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">Domains:</span>
                <span class="stat-value">16</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">Deployments:</span>
                <span class="stat-value">200+</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">Rotation:</span>
                <span class="stat-value" id="rotation-speed">1.0x</span>
            </div>
        </div>

        <div class="controls">
            <button class="control-btn" onclick="speedUp()">‚ö° Speed Up</button>
            <button class="control-btn" onclick="slowDown()">üêå Slow Down</button>
            <button class="control-btn" onclick="toggleRotation()">‚è∏Ô∏è Pause</button>
            <button class="control-btn" onclick="resetView()">üîÑ Reset</button>
            <button class="control-btn" onclick="randomize()">üé≤ Randomize</button>
        </div>
    </div>

    <div class="tooltip" id="tooltip">
        <div class="tooltip-title" id="tooltip-title"></div>
        <div class="tooltip-desc" id="tooltip-desc"></div>
    </div>

    <script>
        const canvas = document.getElementById('canvas3d');
        const ctx = canvas.getContext('2d');

        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        // 3D Infrastructure Nodes
        const nodes = [
            // GitHub Organizations
            { name: 'BlackRoad-OS', type: 'github', desc: 'Core operating system', color: '#F5A623' },
            { name: 'BlackRoad-AI', type: 'github', desc: 'Artificial intelligence', color: '#F5A623' },
            { name: 'BlackRoad-Cloud', type: 'github', desc: 'Cloud infrastructure', color: '#F5A623' },
            { name: 'BlackRoad-Labs', type: 'github', desc: 'Research & development', color: '#F5A623' },
            { name: 'BlackRoad-Security', type: 'github', desc: 'Security systems', color: '#F5A623' },

            // Cloudflare Zones
            { name: 'blackroad.io', type: 'cloudflare', desc: 'Primary domain', color: '#FF1D6C' },
            { name: 'lucidia.earth', type: 'cloudflare', desc: 'AI platform', color: '#FF1D6C' },
            { name: 'blackroadai.com', type: 'cloudflare', desc: 'AI hub', color: '#FF1D6C' },
            { name: 'blackroadquantum.com', type: 'cloudflare', desc: 'Quantum computing', color: '#FF1D6C' },

            // Servers
            { name: 'codex-infinity', type: 'server', desc: 'DigitalOcean 159.65.43.12', color: '#2979FF' },
            { name: 'Railway-Prod', type: 'server', desc: '12+ projects', color: '#2979FF' },

            // Devices
            { name: 'Octavia Pi', type: 'device', desc: 'Raspberry Pi 192.168.4.38', color: '#9C27B0' },
            { name: 'Lucidia Pi', type: 'device', desc: 'Raspberry Pi 192.168.4.64', color: '#9C27B0' },
            { name: 'iPhone Koder', type: 'device', desc: 'Dev server 192.168.4.68:8080', color: '#9C27B0' },

            // Services
            { name: 'Quantum Engine', type: 'service', desc: '19.6√ó speedup', color: '#00FF00' },
            { name: 'Memory System', type: 'service', desc: '140+ scripts', color: '#00FF00' },
            { name: 'Cloudflare Pages', type: 'service', desc: '8 deployments', color: '#00FF00' },
        ];

        // Give each node a 3D position
        nodes.forEach((node, i) => {
            const angle = (i / nodes.length) * Math.PI * 2;
            const radius = 300;
            const height = Math.sin(angle * 3) * 100;

            node.x = Math.cos(angle) * radius;
            node.y = height;
            node.z = Math.sin(angle) * radius;
            node.size = 15;
            node.pulsePhase = Math.random() * Math.PI * 2;
        });

        // Camera settings
        let camera = {
            x: 0,
            y: 0,
            z: -800,
            rotationX: 0,
            rotationY: 0
        };

        let rotation = 0;
        let rotationSpeed = 0.002;
        let isRotating = true;

        // Project 3D to 2D
        function project(x, y, z) {
            const rotatedX = x * Math.cos(rotation) - z * Math.sin(rotation);
            const rotatedZ = x * Math.sin(rotation) + z * Math.cos(rotation);

            const scale = 500 / (500 + rotatedZ - camera.z);

            return {
                x: rotatedX * scale + canvas.width / 2,
                y: y * scale + canvas.height / 2,
                scale: scale
            };
        }

        // Draw connections between nodes
        function drawConnections() {
            ctx.strokeStyle = 'rgba(245, 166, 35, 0.2)';
            ctx.lineWidth = 1;

            let connectionCount = 0;
            for (let i = 0; i < nodes.length; i++) {
                for (let j = i + 1; j < nodes.length; j++) {
                    const node1 = nodes[i];
                    const node2 = nodes[j];

                    const dx = node1.x - node2.x;
                    const dy = node1.y - node2.y;
                    const dz = node1.z - node2.z;
                    const distance = Math.sqrt(dx * dx + dy * dy + dz * dz);

                    if (distance < 400) {
                        const pos1 = project(node1.x, node1.y, node1.z);
                        const pos2 = project(node2.x, node2.y, node2.z);

                        ctx.beginPath();
                        ctx.moveTo(pos1.x, pos1.y);
                        ctx.lineTo(pos2.x, pos2.y);
                        ctx.stroke();
                        connectionCount++;
                    }
                }
            }

            document.getElementById('connection-count').textContent = connectionCount;
        }

        // Draw nodes
        function drawNodes() {
            // Sort by z-position for proper layering
            const sortedNodes = [...nodes].sort((a, b) => {
                const rotatedZA = a.x * Math.sin(rotation) + a.z * Math.cos(rotation);
                const rotatedZB = b.x * Math.sin(rotation) + b.z * Math.cos(rotation);
                return rotatedZB - rotatedZA;
            });

            sortedNodes.forEach(node => {
                const pos = project(node.x, node.y, node.z);

                // Pulsing effect
                node.pulsePhase += 0.05;
                const pulseSize = node.size + Math.sin(node.pulsePhase) * 3;
                const size = pulseSize * pos.scale;

                // Glow
                const gradient = ctx.createRadialGradient(pos.x, pos.y, 0, pos.x, pos.y, size * 2);
                gradient.addColorStop(0, node.color);
                gradient.addColorStop(0.5, node.color + '80');
                gradient.addColorStop(1, 'transparent');

                ctx.fillStyle = gradient;
                ctx.beginPath();
                ctx.arc(pos.x, pos.y, size * 2, 0, Math.PI * 2);
                ctx.fill();

                // Core
                ctx.fillStyle = node.color;
                ctx.beginPath();
                ctx.arc(pos.x, pos.y, size, 0, Math.PI * 2);
                ctx.fill();

                // Label
                if (pos.scale > 0.5) {
                    ctx.fillStyle = '#FFFFFF';
                    ctx.font = `${12 * pos.scale}px sans-serif`;
                    ctx.textAlign = 'center';
                    ctx.fillText(node.name, pos.x, pos.y - size - 10);
                }
            });
        }

        // Animation loop
        function animate() {
            ctx.fillStyle = 'rgba(0, 0, 0, 0.1)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            if (isRotating) {
                rotation += rotationSpeed;
            }

            drawConnections();
            drawNodes();

            document.getElementById('node-count').textContent = nodes.length;

            requestAnimationFrame(animate);
        }

        // Controls
        function speedUp() {
            rotationSpeed *= 1.5;
            updateSpeedDisplay();
        }

        function slowDown() {
            rotationSpeed *= 0.67;
            updateSpeedDisplay();
        }

        function toggleRotation() {
            isRotating = !isRotating;
            document.querySelector('.controls button:nth-child(3)').textContent =
                isRotating ? '‚è∏Ô∏è Pause' : '‚ñ∂Ô∏è Play';
        }

        function resetView() {
            rotation = 0;
            rotationSpeed = 0.002;
            isRotating = true;
            updateSpeedDisplay();
        }

        function randomize() {
            nodes.forEach(node => {
                const angle = Math.random() * Math.PI * 2;
                const radius = 200 + Math.random() * 200;
                const height = (Math.random() - 0.5) * 300;

                node.x = Math.cos(angle) * radius;
                node.y = height;
                node.z = Math.sin(angle) * radius;
            });
        }

        function updateSpeedDisplay() {
            const speed = (rotationSpeed / 0.002).toFixed(1);
            document.getElementById('rotation-speed').textContent = speed + 'x';
        }

        // Mouse interaction
        canvas.addEventListener('mousemove', (e) => {
            const rect = canvas.getBoundingClientRect();
            const mouseX = e.clientX - rect.left;
            const mouseY = e.clientY - rect.top;

            let hoveredNode = null;

            for (const node of nodes) {
                const pos = project(node.x, node.y, node.z);
                const size = node.size * pos.scale;
                const dx = mouseX - pos.x;
                const dy = mouseY - pos.y;
                const distance = Math.sqrt(dx * dx + dy * dy);

                if (distance < size) {
                    hoveredNode = node;
                    break;
                }
            }

            const tooltip = document.getElementById('tooltip');
            if (hoveredNode) {
                document.getElementById('tooltip-title').textContent = hoveredNode.name;
                document.getElementById('tooltip-desc').textContent = hoveredNode.desc;
                tooltip.style.left = e.clientX + 20 + 'px';
                tooltip.style.top = e.clientY + 20 + 'px';
                tooltip.classList.add('visible');
            } else {
                tooltip.classList.remove('visible');
            }
        });

        // Window resize
        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });

        // Start animation
        animate();
    </script>
</body>
</html>
